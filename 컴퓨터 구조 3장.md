# 컴퓨터 구조 2장

## 1. 컴퓨터의 구성 요소
컴퓨터의 구성 요소와 상호 간의 작용<br>
![BUs](./Image/2/1.JPG)
* PC(Program Counter) - 기억장치로부터 읽혀질 다음 명령어 주소 저장
* MBR - 기억장치에 저장될 단어를 가지고 있거나, 기억장치로 부터 읽혀진 다음 단어를 저장하는데 사용
* MAR - MBR로부터 쓰여지거나 읽혀질 단어의 기억장치 주소를 저장
* IR - 실행될 명령어 연산코드를 저장<br>
<a>Register - 임시로 데이터를 저장하는 기억장치 메모리</a>
### 1. 동작 순서
1. CPU는 RAM에 있는 메모리를 교환한다.
1. PC가 첫 번째 명령어 주소인 X를 가지고 있다.
1. PC에 있는 주소가 MAR로 적재
1. 이때, MAR에 있는 주소가 Main memory주소를 가리킨다.
1. 그 주소에 해당하는 값을 MBR에 저장
1. 해당하는 값을 IR에 전달한다.( 다음 주소를 읽기 위해 PC가 한개 증가)
1. 제어장치가 명령어를 해독후 AC에 data를 저장하거나 연산

<hr>

## 2. 컴퓨터의 기능
주기억 장치에 저장된 데이터를 기계 명령어로 실행한다.

### 1. 명렁어 처리
**명령어 사이클**
* 인출 Fetch - 명령어를 CPU로 가져온다.
* 실행 Execute - 가져온 명령어를 실행한다.

**명령어 인출과 실행**
1. PC(Program counter) - 이 레지스터에 있는 값이 다음의 실행할 명령어의 위치를 가지고 있음 (중요)
2. PC에 저장된 주소값의 명령어를 CPU안의 IR로 저장함.
3. IR에 저장된 명령어를 해독 해야함.
* AC - 중간 산술 논리 장치 결과가 저장되는 레지스터이다.
4. PC는 명령어를 가져오자마자 다음 주소값으로 변경 된다.

### 2. 프로그램 실행 순서 예시
![BUs](./Image/2/2.JPG)<br>
940 번지의 내용을 941 번지의 내용과 더하고 결과를 941 번지에 저장 하는 것.
1. PC는 첫 번째 명령어 주소 300을 가지고 있다. 이 명령어는 IR로 적재되고, PC는 증가 된다.
2. 명령어 해독 과정에서 1940 이라는 명령어에서 맨앞 1은 opcode로 (16진수는 0001)명령어를 실행.<br>나머지 940은 메인메모리 상의 주소 이므로 940 번지에는 0003의 데이터 가있는데 이 데이터를 AC에 저장한다.
3. 다음 주소 명령어 (5941)이 301번지로 부터 인출되어 IR에 저장되고 PC는 증가 된다.
4. 명령어 해독 결과 5|941 은 5(0101) add to AC from memory로 941번지 데이터와 AC 메모리의 데이터를 저장한다
5. 다음 명령어(2941) 를 불러오고 PC증가
6. 2941 은 2(0010) save AC to momory이므로 941번지에 AC값을 저장한다.

### 3. 명령어 상태도
![BUs](./Image/2/3.JPG)<br>
위의 프로그램 실행 순서와 같이 보면서 해석
